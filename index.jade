doctype html

html
  head
    title Delayed Mirror
    meta(name='description' content='Use a slightly delayed video to practice dance, gymnastics, and martial arts drills')
    link(rel='stylesheet' href='node_modules/bootstrap/dist/css/bootstrap.min.css')
    link(rel='stylesheet' href='css/style.css')
  body
    nav.navbar.navbar-default
      a.navbar-brand Delayed Mirror

    .container
      form.form-inline(id='control')
        .form-group
          label(for='delay') Change Delay
          input.form-control(name='delay' type='number' min=1 max=20 step=1 value=5)

        ul.spaced-list
          li
            a(data-set-width=320 data-set-height=240 href='#') 320x240
          li
            a(data-set-width=640 data-set-height=480 href='#') 640x480
          li
            a(data-set-width=800 data-set-height=600 href='#') 800x600
          li
            a(data-set-width=1024 data-set-height=786 href='#') 1024x786

      .clear
      div#output.video-container.
        Loading... Please allow access to your camera.

      .row.body-content
        .col-md-8
          .jumbotron
            h1 Delayed Mirror
            p.
              A delayed mirror is a nice tool for practicing movement. I use it to get near-realtime feedback when
              practicing movements that are impossible or impractical to watch in a mirror.

            p.
              Use this tool to see what your coach sees, and make corrections to your form and technique. Dance drills, gymnastics drills,
              and martial arts drills - any sort of technical practice - can all be improved with this helpful feedback.

          h3 Privacy
          p.
            The video on this website is never stored, and never sent to a server. It is simply held in memory on your
            device just long enough to replay it, and then destroyed.

          p.
            Delayed Mirror is also open source and transparent.
            <a href='https://github.com/wheeyls/delayed-mirror'>View and make changes to the source yourself</a>
            if you'd like to spin up your own server, or request a change in functionality.

          h3 About
          ul.spaced-list
            li
              a(href='https://github.com/wheeyls/delayed-mirror') GitHub
            li
              a(href='mailto:mt.maui@gmail.com') Contact
            li
              a(href='http://hacki.ly') Blog

        .col-md-4
          script(async=true src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js")
          ins(class="adsbygoogle" style="display:block" data-ad-client="#{process.env.DELAYED_AD_CLIENT}" data-ad-slot="#{process.env.DELAYED_AD_SLOT}" data-ad-format="auto")
          script.
            (adsbygoogle = window.adsbygoogle || []).push({});

    script#error-message(type='text/template')
      .panel.panel-default
        .panel-body
          .alert.alert-danger(role='alert') We're sorry, there was an error getting access to your camera.

          h3 Support
          p.
            Sometimes <a href='#' onclick='window.location.reload();'>refreshing your browser</a> can solve the problem.

          p.
            This website uses relatively new browser features to gain access to the camera, and is not supported on all devices.
          p.
            It <strong>will not work</strong> on:

          ul
            li Internet Explorer
            li Safari
            li iOS

          p.
            It <strong>has been tested successfully</strong> on:

          ul
            li Chrome
            li Firefox
            li Opera
            li Some Android Browsers (not all versions)

    script(type='text/javascript' src='node_modules/msr/MediaStreamRecorder.min.js')
    script(type='text/javascript' src='js/bundle.js')

    script(type='text/javascript').
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', '#{process.env.DELAYED_MIRROR_ANALYTICS}', 'auto');
      ga('send', 'pageview');
